{"version":3,"file":"emitter-action.js","sources":["../../src/helpers/emitter-action.js"],"sourcesContent":["import Helper from '@ember/component/helper';\nimport { assert } from '@ember/debug';\n\nexport default class extends Helper {\n  isListening = false;\n\n  compute(_params, { emitter, eventName, action }) {\n    assert('[emitter-action helper] Must specify an emitter', emitter);\n    assert('[emitter-action helper] Must specify an eventName', eventName);\n    assert('[emitter-action helper] Must specify an action', action);\n    this.stopListening();\n    this.emitter = emitter;\n    this.eventName = eventName;\n    this.handler = action;\n\n    this.startListening();\n  }\n\n  willDestroy() {\n    this.stopListening();\n    super.willDestroy(...arguments);\n  }\n\n  startListening() {\n    let { handler, emitter, eventName } = this;\n    emitter.addEventListener(eventName, handler);\n    this.isListening = true;\n  }\n\n  stopListening() {\n    let { isListening, handler, emitter, eventName } = this;\n    if (!isListening) {\n      return;\n    }\n    emitter.removeEventListener(eventName, handler);\n    this.isListening = false;\n  }\n}\n"],"names":["Helper","isListening","compute","_params","emitter","eventName","action","assert","stopListening","handler","startListening","willDestroy","arguments","addEventListener","removeEventListener"],"mappings":";;;AAGe,mBAAA,SAAcA,MAAM,CAAC;AAClCC,EAAAA,WAAW,GAAG,KAAK;EAEnBC,OAAOA,CAACC,OAAO,EAAE;IAAEC,OAAO;IAAEC,SAAS;AAAEC,IAAAA;AAAO,GAAC,EAAE;AAC/CC,IAAAA,MAAM,CAAC,iDAAiD,EAAEH,OAAO,CAAC;AAClEG,IAAAA,MAAM,CAAC,mDAAmD,EAAEF,SAAS,CAAC;AACtEE,IAAAA,MAAM,CAAC,gDAAgD,EAAED,MAAM,CAAC;IAChE,IAAI,CAACE,aAAa,EAAE;IACpB,IAAI,CAACJ,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAACI,OAAO,GAAGH,MAAM;IAErB,IAAI,CAACI,cAAc,EAAE;AACvB,EAAA;AAEAC,EAAAA,WAAWA,GAAG;IACZ,IAAI,CAACH,aAAa,EAAE;AACpB,IAAA,KAAK,CAACG,WAAW,CAAC,GAAGC,SAAS,CAAC;AACjC,EAAA;AAEAF,EAAAA,cAAcA,GAAG;IACf,IAAI;MAAED,OAAO;MAAEL,OAAO;AAAEC,MAAAA;AAAU,KAAC,GAAG,IAAI;AAC1CD,IAAAA,OAAO,CAACS,gBAAgB,CAACR,SAAS,EAAEI,OAAO,CAAC;IAC5C,IAAI,CAACR,WAAW,GAAG,IAAI;AACzB,EAAA;AAEAO,EAAAA,aAAaA,GAAG;IACd,IAAI;MAAEP,WAAW;MAAEQ,OAAO;MAAEL,OAAO;AAAEC,MAAAA;AAAU,KAAC,GAAG,IAAI;IACvD,IAAI,CAACJ,WAAW,EAAE;AAChB,MAAA;AACF,IAAA;AACAG,IAAAA,OAAO,CAACU,mBAAmB,CAACT,SAAS,EAAEI,OAAO,CAAC;IAC/C,IAAI,CAACR,WAAW,GAAG,KAAK;AAC1B,EAAA;AACF;;;;"}