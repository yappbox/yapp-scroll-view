{"version":3,"file":"translate.js","sources":["../../src/utils/translate.js"],"sourcesContent":["// Vendored from ember-collection/addon/utils/translate.js + style-properties.js\n// These are pure DOM utility functions for CSS transforms.\n\nconst stylePrefixes = ['webkit', 'Webkit', 'ms', 'Moz', 'O'];\nconst cssPrefixes = ['-webkit-', '-ms-', '-moz-', '-o-'];\n\nconst style =\n  typeof document !== 'undefined' &&\n  document.documentElement &&\n  document.documentElement.style;\n\nfunction capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nfunction camelize(str) {\n  return str.replace(/-([a-z])/g, (_, char) => char.toUpperCase());\n}\n\nfunction findProperty(property, css) {\n  let prop = css ? camelize(property) : property;\n  if (style && prop in style) {\n    return property;\n  }\n  if (style) {\n    let capitalized = capitalize(prop);\n    for (let i = 0; i < stylePrefixes.length; i++) {\n      let prefixed = stylePrefixes[i] + capitalized;\n      if (prefixed in style) {\n        return css ? cssPrefixes[i] + property : prefixed;\n      }\n    }\n  }\n}\n\nfunction styleProperty(prop) {\n  return findProperty(prop, false);\n}\n\nfunction cssProperty(cssProp) {\n  return findProperty(cssProp, true);\n}\n\nconst transformCSSProp = cssProperty('transform');\nconst transformStyleProp = styleProperty('transform');\nexport const supports3D = !!styleProperty('perspectiveOrigin');\nexport const supports2D = !!transformStyleProp;\n\nexport function translatePosition(el, x, y) {\n  el.style.left = x + 'px';\n  el.style.top = y + 'px';\n}\n\nexport function translateTransform2D(el, x, y) {\n  el.style[transformStyleProp] = matrix2D(x, y);\n}\n\nexport function translateTransform3D(el, x, y) {\n  el.style[transformStyleProp] = matrix3D(x, y);\n}\n\nexport function translatePositionCSS(x, y) {\n  return `left:${x}px;top:${y}px;`;\n}\n\nexport function translateTransform2DCSS(x, y) {\n  return `${transformCSSProp}:${matrix2D(x, y)};`;\n}\n\nexport function translateTransform3DCSS(x, y) {\n  return `${transformCSSProp}:${matrix3D(x, y)};`;\n}\n\nfunction matrix2D(x, y) {\n  return `matrix(1, 0, 0, 1, ${x}, ${y})`;\n}\n\nfunction matrix3D(x, y) {\n  return `matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ${x}, ${y}, 0, 1)`;\n}\n\nexport const translate = supports3D\n  ? translateTransform3D\n  : supports2D\n    ? translateTransform2D\n    : translatePosition;\n\nexport const translateCSS = supports3D\n  ? translateTransform3DCSS\n  : supports2D\n    ? translateTransform2DCSS\n    : translatePositionCSS;\n"],"names":["stylePrefixes","cssPrefixes","style","document","documentElement","capitalize","str","charAt","toUpperCase","slice","camelize","replace","_","char","findProperty","property","css","prop","capitalized","i","length","prefixed","styleProperty","cssProperty","cssProp","transformCSSProp","transformStyleProp","supports3D","supports2D","translatePosition","el","x","y","left","top","translateTransform2D","matrix2D","translateTransform3D","matrix3D","translatePositionCSS","translateTransform2DCSS","translateTransform3DCSS","translate","translateCSS"],"mappings":"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"}